import { useBirdStore } from "@/store/birdStore";
import { BIRD_HEIGHT, BIRD_WIDTH, BIRD_X } from "@/lib/constants";

const Bird = () => {
  const { bird } = useBirdStore();

  return (
    <svg
      className="absolute z-50 bird-flap"
      style={{
        top: `${bird.y}px`,
        left: `${BIRD_X}px`,
        width: `${BIRD_WIDTH}px`,
        height: `${BIRD_HEIGHT}px`,
        transform: `rotate(${Math.min(bird.velocity * 3, 90)}deg)`,
      }}
      // width="156"
      // height="180"
      viewBox="0 0 156 180"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      {/* Wing layers - back wings */}
      <path
        className="wing-back wing-flap"
        d="M103.281 102.235C103.281 102.235 97.5678 100.155 88.1005 96.866C82.7588 95.01 76.2177 92.7372 68.8239 90.1682C48.3256 83.0459 29.0361 76.3437 29.0361 76.3437C33.2224 94.5236 47.6778 106.132 58.9028 110.102C76.3879 116.287 95.0121 112.056 103.281 102.235Z"
        fill="#7F7A98"
      />
      <path
        className="wing-back wing-flap"
        d="M100.008 84.5975C100.008 84.5975 89.5485 71.2322 74.1738 51.5859C58.7991 31.9395 45.0493 12.4622 45.0493 12.4622C36.5546 36.4784 38.2061 54.8715 49.4753 66.7844C59.3575 77.2312 81.0538 87.5978 100.008 84.5975Z"
        fill="#7F7A98"
      />
      <path
        className="wing-back wing-flap"
        d="M108.073 89.513C108.073 89.513 93.2422 81.262 71.4418 69.1334C49.6414 57.0048 29.4039 44.4006 29.4039 44.4006C30.9085 69.8304 39.577 86.1365 54.5896 92.7346C67.7545 98.5206 91.7741 99.6423 108.073 89.513Z"
        fill="#7F7A98"
      />
      <path
        className="wing-back wing-flap"
        d="M112.196 92.6388C112.196 92.6388 106.147 92.0377 96.1599 91.1912C90.5252 90.7136 83.6253 90.1288 75.8259 89.4677C54.203 87.6349 33.8553 85.9103 33.8553 85.9103C42.4287 102.231 59.935 111.712 71.8026 112.674C92.3708 114.341 104.189 103.991 112.196 92.6388Z"
        fill="#7F7A98"
      />

      {/* Tail - with sway animation */}
      <path
        className="tail-sway"
        d="M27.3255 132.152L45.779 102.742L57.9942 113.264L31.3313 139.619L27.3255 132.152Z"
        fill="#EF6363"
      />

      {/* Head feathers */}
      <path
        d="M106.657 58.6678C106.657 58.6678 109.858 53.9507 113.808 48.1319C117.758 42.3131 120.96 37.596 120.96 37.596C124.913 40.2795 124.916 47.172 120.966 52.9908C117.017 58.8096 110.61 61.3513 106.657 58.6678Z"
        fill="#D9C4D7"
      />
      <path
        d="M114.462 55.0607C114.462 55.0607 112.239 49.6054 109.497 42.8759C106.756 36.1465 104.533 30.6911 104.533 30.6911C109.751 28.5653 116.203 32.2972 118.945 39.0267C121.687 45.7562 119.68 52.9348 114.462 55.0607Z"
        fill="#E7D0E5"
      />

      <g filter="url(#filter0_d_15_18)">
        <path
          d="M104.507 50.671C104.507 50.671 104.229 48.1576 103.886 45.0571C103.543 41.9566 103.265 39.4431 103.265 39.4431C108.645 38.8477 113.285 40.8784 113.628 43.9789C113.971 47.0794 109.888 50.0756 104.507 50.671Z"
          fill="#E7D0E5"
        />
      </g>

      {/* Body parts */}
      <path
        className="bird-body body-bob"
        d="M98.0903 70.6094C113.378 87.6071 109.255 116.241 88.8805 134.566C68.5063 152.89 39.5967 153.966 24.309 136.968C23.8364 137.393 26.607 134.901 31.4046 130.586C35.7451 126.682 41.7449 121.286 48.5035 115.207C52.9643 111.195 57.7556 106.886 62.6185 102.512C82.9927 84.1881 98.0903 70.6094 98.0903 70.6094Z"
        fill="#EF6363"
      />
      <path
        d="M6.59873 162.678C15.7772 168.915 28.1936 166.65 34.3315 157.617C36.7972 153.989 37.8746 149.821 37.6862 145.728C37.4057 139.631 34.3174 133.701 28.826 129.97C29.1822 129.445 23.4228 137.921 17.2849 146.953C11.147 155.985 6.59873 162.678 6.59873 162.678Z"
        fill="#EF6363"
      />
      <path
        d="M70.1597 62.5348C81.5561 50.1113 97.1399 42.606 116.001 45.9854L106.207 104.78L57.9121 96.1268C57.9121 96.1268 58.7632 74.9584 70.1597 62.5348Z"
        fill="#EF6363"
      />
      <path
        d="M106.539 70.7271C115.46 94.3144 103.571 120.668 79.9836 129.589C63.8498 135.691 46.4218 132.057 34.1634 121.603C34.1634 121.603 46.8358 101.701 44.0167 94.247C42.6099 94.7792 44.2307 94.2935 67.8181 85.3722C91.4054 76.4509 108.279 70.0689 106.539 70.7271Z"
        fill="black"
        fillOpacity="0.08"
      />

      {/* Front wing layers */}
      <path
        className="wing-front wing-flap"
        d="M101.238 109.351C101.238 109.351 95.2635 108.224 85.3884 106.512C79.8167 105.545 72.9938 104.362 65.2816 103.025C43.9003 99.3164 23.78 95.8269 23.78 95.8269C30.8555 113.089 47.0002 122.202 58.7201 124.302C76.976 127.573 94.669 120.382 101.238 109.351Z"
        fill="#B2ABD4"
      />
      <path
        className="wing-front wing-flap"
        d="M95.1514 92.4767C95.1514 92.4767 82.6655 80.9819 64.3118 64.0852C45.958 47.1884 29.2351 30.1952 29.2351 30.1952C24.7424 55.2702 29.3512 73.1529 42.401 83.0833C53.8448 91.7916 76.9336 98.5072 95.1514 92.4767Z"
        fill="#B2ABD4"
      />
      <path
        className="wing-front wing-flap"
        d="M103.906 96.021C103.906 96.021 87.9349 90.281 64.4579 81.8435C40.981 73.406 18.9692 64.246 18.9692 64.246C24.5727 89.0964 35.7678 103.783 51.6509 107.863C65.5791 111.44 89.4631 108.656 103.906 96.021Z"
        fill="#B2ABD4"
      />
      <path
        className="wing-front wing-flap"
        d="M108.481 98.4377C108.481 98.4377 102.414 98.8243 92.4223 99.6066C86.7847 100.048 79.8811 100.588 72.0776 101.199C50.4434 102.893 30.085 104.487 30.085 104.487C41.1886 119.204 59.9994 125.724 71.8661 124.751C92.4328 123.065 102.418 110.937 108.481 98.4377Z"
        fill="#B2ABD4"
      />

      {/* Head/Face */}
      <path
        d="M140.323 80.6177C139.014 87.9212 116.163 76.2746 110.827 80.6177C108.423 92.8051 106.741 104.821 106.741 104.821C90.5409 101.919 78.7543 86.3066 81.6569 70.1065C84.5595 53.9063 99.9136 44.0007 116.114 46.9033C132.314 49.8059 143.225 64.4175 140.323 80.6177Z"
        fill="white"
      />
      <path
        d="M148.782 93.3642C148.782 93.3642 132.787 90.4984 109.04 86.2437C112.973 64.2951 116.076 46.9753 116.076 46.9753C138.024 50.9079 152.714 71.4156 148.782 93.3642Z"
        fill="#FFA24D"
      />
      <path
        d="M124.58 95.8554L109.075 85.9995C107.548 94.5216 106.501 104.821 106.501 104.821C113.62 106.094 120.46 102.337 124.58 95.8554Z"
        fill="#FFA24D"
      />

      {/* Eye with blink animation */}
      <circle
        className="bird-eye blink"
        cx="98.689"
        cy="73.1581"
        r="9.13229"
        transform="rotate(10.1579 98.689 73.1581)"
        fill="#494B62"
      />

      <defs>
        <filter
          id="filter0_d_15_18"
          x="99.2648"
          y="39.3395"
          width="18.3831"
          height="19.3316"
          filterUnits="userSpaceOnUse"
          colorInterpolationFilters="sRGB"
        >
          <feFlood floodOpacity="0" result="BackgroundImageFix" />
          <feColorMatrix
            in="SourceAlpha"
            type="matrix"
            values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
            result="hardAlpha"
          />
          <feOffset dy="4" />
          <feGaussianBlur stdDeviation="2" />
          <feComposite in2="hardAlpha" operator="out" />
          <feColorMatrix
            type="matrix"
            values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"
          />
          <feBlend
            mode="normal"
            in2="BackgroundImageFix"
            result="effect1_dropShadow_15_18"
          />
          <feBlend
            mode="normal"
            in="SourceGraphic"
            in2="effect1_dropShadow_15_18"
            result="shape"
          />
        </filter>
      </defs>
    </svg>
  );
};

export default Bird;
